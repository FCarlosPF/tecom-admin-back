(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{97420:(e,r,t)=>{Promise.resolve().then(t.bind(t,68852))},68852:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});var s=t(95155),l=t(12115),a=t(57798),n=t(11536);let o=()=>{let[e,r]=(0,l.useState)([]),[t,o]=(0,l.useState)(!0),[i,c]=(0,l.useState)(null),[d,u]=(0,l.useState)(!1),[m,b]=(0,l.useState)({nombre:"",descripcion:""}),[g,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{try{let e=await (0,a.O0)();r(e)}catch(e){c(e.message||"Error al cargar los roles")}finally{o(!1)}})()},[]);let f=async t=>{if(confirm("\xbfEst\xe1s seguro de que deseas eliminar este rol?"))try{await (0,a.EO)(t),r(e.filter(e=>e.id_rol!==t))}catch(e){console.error("Error al eliminar el rol:",e)}},h=async()=>{if(!m.nombre||!m.descripcion){alert("Todos los campos son obligatorios.");return}x(!0);try{let t=await (0,a.Cm)(m);r([...e,t]),u(!1),b({nombre:"",descripcion:""})}catch(e){console.error("Error al agregar el rol:",e)}finally{x(!1)}};return t?(0,s.jsx)("p",{className:"text-center mt-4",children:"Cargando..."}):i?(0,s.jsxs)("p",{className:"text-center text-red-600 mt-4",children:["Error: ",i]}):(0,s.jsxs)("div",{className:"container mx-auto p-6 bg-gray-100 rounded-lg shadow-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-700",children:"Gesti\xf3n de Roles"}),(0,s.jsxs)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center",onClick:()=>u(!0),children:[(0,s.jsx)(n.OiG,{className:"mr-2"}),"Agregar Rol"]})]}),(0,s.jsx)("div",{className:"overflow-hidden rounded-lg shadow",children:(0,s.jsxs)("table",{className:"min-w-full bg-white",children:[(0,s.jsx)("thead",{className:"bg-gray-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left text-gray-600 font-semibold",children:"Nombre"}),(0,s.jsx)("th",{className:"py-3 px-4 text-center text-gray-600 font-semibold",children:"Acciones"})]})}),(0,s.jsx)("tbody",{children:e.map((e,r)=>(0,s.jsxs)("tr",{className:r%2==0?"bg-gray-50":"bg-white",children:[(0,s.jsx)("td",{className:"py-3 px-4 text-gray-700",children:e.nombre}),(0,s.jsx)("td",{className:"py-3 px-4 text-center",children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg flex items-center justify-center",onClick:()=>f(e.id_rol),children:[(0,s.jsx)(n.qbC,{className:"mr-1"}),"Eliminar"]})})})]},e.id_rol))})]})}),d&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-700 bg-opacity-50 flex justify-center items-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-700",children:"Agregar Nuevo Rol"}),(0,s.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>u(!1),children:(0,s.jsx)(n.QCr,{size:20})})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-600 font-medium mb-2",children:"Nombre"}),(0,s.jsx)("input",{type:"text",className:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",value:m.nombre,onChange:e=>b({...m,nombre:e.target.value})})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-600 font-medium mb-2",children:"Descripci\xf3n"}),(0,s.jsx)("input",{type:"text",className:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",value:m.descripcion,onChange:e=>b({...m,descripcion:e.target.value})})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",onClick:h,disabled:g,children:g?"Guardando...":"Agregar"}),(0,s.jsx)("button",{className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded-lg ",onClick:()=>u(!1),children:"Cancelar"})]})]})})]})}},93435:(e,r,t)=>{"use strict";t.d(r,{k5:()=>d});var s=t(12115),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=s.createContext&&s.createContext(l),n=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach(function(r){var s,l;s=r,l=t[r],(s=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,r||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(s))in e?Object.defineProperty(e,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[s]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e){return r=>s.createElement(u,o({attr:c({},e.attr)},r),function e(r){return r&&r.map((r,t)=>s.createElement(r.tag,c({key:t},r.attr),e(r.child)))}(e.child))}function u(e){var r=r=>{var t,{attr:l,size:a,title:i}=e,d=function(e,r){if(null==e)return{};var t,s,l=function(e,r){if(null==e)return{};var t={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;t[s]=e[s]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)t=a[s],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,n),u=a||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,l,d,{className:t,style:c(c({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==a?s.createElement(a.Consumer,null,e=>r(e)):r(l)}}},e=>{var r=r=>e(e.s=r);e.O(0,[711,798,441,517,358],()=>r(97420)),_N_E=e.O()}]);