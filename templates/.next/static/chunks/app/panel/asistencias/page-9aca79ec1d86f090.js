(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{79445:(e,t,a)=>{Promise.resolve().then(a.bind(a,14779))},14779:(e,t,a)=>{"use strict";a.d(t,{default:()=>h});var s=a(95155),o=a(12115),n=a(17389),r=a(52798),i=a(50830),l=a(95370),d=a(96939),c=a(57798);a(33174),a(41501);var u=a(41938);let x={"en-US":a(555)},g=(0,n.Hz)({format:r.GP,parse:i.qg,startOfWeek:l.k,getDay:d.P,locales:x}),h=()=>{let[e,t]=(0,o.useState)([]),[a,r]=(0,o.useState)(new Date),[i,l]=(0,o.useState)("month"),[d,x]=(0,o.useState)(null),[h,p]=(0,o.useState)(!1),{usuarioLogeado:m}=(0,u.A)();(0,o.useEffect)(()=>{let e=async()=>{try{let e=await (0,c.ns)(m.id_empleado);t(e)}catch(e){console.error("Error al obtener las tareas pendientes:",e.message,e.stack)}};m&&null!==m.id_empleado?e():console.log("usuarioLogeado no est\xe1 definido o id_empleado es null")},[m]);let b=e.map(e=>({title:e.tarea_titulo,start:new Date(e.tarea_fecha_inicio),end:new Date(e.tarea_fecha_estimada_fin),allDay:!1,resource:e})),w=b.filter(e=>e.start.toDateString()===(null==d?void 0:d.toDateString()));return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto p-6 bg-white rounded-lg shadow-md",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Calendario de Tareas"}),(0,s.jsx)(n.Vv,{localizer:g,events:b,startAccessor:"start",endAccessor:"end",style:{height:800},date:a,view:i,onNavigate:e=>{console.log("Nueva fecha:",e),r(e)},onView:e=>{console.log("Nueva vista:",e),l(e)},messages:{next:">",previous:"<",today:"Hoy",month:"Mes",week:"Semana",day:"D\xeda",agenda:"Agenda"},eventPropGetter:e=>{let t,a;switch(e.resource.tarea_estado){case"Pendiente":t="#f56565",a="#c53030";break;case"En Progreso":t="#f6ad55",a="#dd6b20";break;default:t="#3182ce",a="#2b6cb0"}return{style:{backgroundColor:t,borderColor:a,borderWidth:"2px",borderStyle:"solid",borderRadius:"4px",padding:"4px",color:"white",fontSize:"12px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",textAlign:"center",fontWeight:"bold"}}},onSelectSlot:e=>{x(e),p(!0)},components:{toolbar:e=>(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>e.onNavigate("PREV"),className:"bg-gray-800 text-white px-4 py-2 rounded",children:"Anterior"}),(0,s.jsx)("button",{onClick:()=>e.onNavigate("TODAY"),className:"bg-gray-800 text-white px-4 py-2 rounded",children:"Hoy"}),(0,s.jsx)("button",{onClick:()=>e.onNavigate("NEXT"),className:"bg-gray-800 text-white px-4 py-2 rounded",children:"Siguiente"})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>e.onView("month"),className:"bg-gray-800 text-white px-4 py-2 rounded",children:"Mes"}),(0,s.jsx)("button",{onClick:()=>e.onView("week"),className:"bg-gray-800 text-white px-4 py-2 rounded",children:"Semana"}),(0,s.jsx)("button",{onClick:()=>e.onView("day"),className:"bg-gray-800 text-white px-4 py-2 rounded",children:"D\xeda"}),(0,s.jsx)("button",{onClick:()=>e.onView("agenda"),className:"bg-gray-800 text-white px-4 py-2 rounded",children:"Agenda"})]})]})}}),h&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg w-1/2",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Tareas para el ",d.toLocaleDateString()]}),(0,s.jsx)("ul",{children:w.map((e,t)=>(0,s.jsxs)("li",{className:"mb-2",children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:e.title})}),(0,s.jsxs)("p",{children:[new Date(e.start).toLocaleTimeString()," -"," ",new Date(e.end).toLocaleTimeString()]})]},t))}),(0,s.jsx)("button",{onClick:()=>{p(!1),x(null)},className:"mt-4 bg-gray-800 text-white px-4 py-2 rounded",children:"Cerrar"})]})})]})}},41938:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(99827).v)(e=>({usuarioLogeado:{id_empleado:null,nombre:"",apellidos:"",correo:"",especialidad:"",sueldo:"",activo:!1,foto:"",nombre_usuario:"",fecha_contratacion:"",area:null,rol:null},empleados:[],tareas:[],asignacionesTareas:[],proyectos:[],notificaciones:[],setUsuarioLogeado:t=>e({usuarioLogeado:t}),setEmpleados:t=>e({empleados:t}),setTareas:t=>e({tareas:t}),setAsignacionesTareas:t=>e({asignacionesTareas:t}),setProyectos:t=>e({proyectos:t}),setNotificaciones:t=>e({notificaciones:t})}))}},e=>{var t=t=>e(e.s=t);e.O(0,[998,586,560,672,798,441,517,358],()=>t(79445)),_N_E=e.O()}]);