(()=>{var e={};e.id=69,e.ids=[69],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},29447:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=s(70260),a=s(28203),l=s(25155),o=s.n(l),n=s(67292),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(r,i);let d=["",{children:["panel",{children:["roles",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,62568)),"C:\\Users\\Usuario\\Desktop\\dev\\tecom_admin_front\\src\\app\\panel\\roles\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,54045)),"C:\\Users\\Usuario\\Desktop\\dev\\tecom_admin_front\\src\\app\\panel\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,98180)),"C:\\Users\\Usuario\\Desktop\\dev\\tecom_admin_front\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Usuario\\Desktop\\dev\\tecom_admin_front\\src\\app\\panel\\roles\\page.jsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/panel/roles/page",pathname:"/panel/roles",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},45700:(e,r,s)=>{Promise.resolve().then(s.bind(s,58996))},75556:(e,r,s)=>{Promise.resolve().then(s.bind(s,84536))},84536:(e,r,s)=>{"use strict";s.d(r,{default:()=>n});var t=s(45512),a=s(58009),l=s(27582),o=s(44098);let n=()=>{let[e,r]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[i,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)({nombre:"",descripcion:""}),[p,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,l.O0)();r(e)}catch(e){d(e.message||"Error al cargar los roles")}finally{n(!1)}})()},[]);let h=async s=>{if(confirm("\xbfEst\xe1s seguro de que deseas eliminar este rol?"))try{await (0,l.EO)(s),r(e.filter(e=>e.id_rol!==s))}catch(e){console.error("Error al eliminar el rol:",e)}},b=async()=>{if(!m.nombre||!m.descripcion){alert("Todos los campos son obligatorios.");return}g(!0);try{let s=await (0,l.Cm)(m);r([...e,s]),u(!1),x({nombre:"",descripcion:""})}catch(e){console.error("Error al agregar el rol:",e)}finally{g(!1)}};return s?(0,t.jsx)("p",{className:"text-center mt-4",children:"Cargando..."}):i?(0,t.jsxs)("p",{className:"text-center text-red-600 mt-4",children:["Error: ",i]}):(0,t.jsxs)("div",{className:"container mx-auto p-6 bg-gray-100 rounded-lg shadow-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-700",children:"Gesti\xf3n de Roles"}),(0,t.jsxs)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center",onClick:()=>u(!0),children:[(0,t.jsx)(o.OiG,{className:"mr-2"}),"Agregar Rol"]})]}),(0,t.jsx)("div",{className:"overflow-hidden rounded-lg shadow",children:(0,t.jsxs)("table",{className:"min-w-full bg-white",children:[(0,t.jsx)("thead",{className:"bg-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"py-3 px-4 text-left text-gray-600 font-semibold",children:"Nombre"}),(0,t.jsx)("th",{className:"py-3 px-4 text-center text-gray-600 font-semibold",children:"Acciones"})]})}),(0,t.jsx)("tbody",{children:e.map((e,r)=>(0,t.jsxs)("tr",{className:r%2==0?"bg-gray-50":"bg-white",children:[(0,t.jsx)("td",{className:"py-3 px-4 text-gray-700",children:e.nombre}),(0,t.jsx)("td",{className:"py-3 px-4 text-center",children:(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg flex items-center justify-center",onClick:()=>h(e.id_rol),children:[(0,t.jsx)(o.qbC,{className:"mr-1"}),"Eliminar"]})})})]},e.id_rol))})]})}),c&&(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-700 bg-opacity-50 flex justify-center items-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-700",children:"Agregar Nuevo Rol"}),(0,t.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>u(!1),children:(0,t.jsx)(o.QCr,{size:20})})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-gray-600 font-medium mb-2",children:"Nombre"}),(0,t.jsx)("input",{type:"text",className:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",value:m.nombre,onChange:e=>x({...m,nombre:e.target.value})})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-gray-600 font-medium mb-2",children:"Descripci\xf3n"}),(0,t.jsx)("input",{type:"text",className:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",value:m.descripcion,onChange:e=>x({...m,descripcion:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",onClick:b,disabled:p,children:p?"Guardando...":"Agregar"}),(0,t.jsx)("button",{className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded-lg ",onClick:()=>u(!1),children:"Cancelar"})]})]})})]})}},62568:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(62740),a=s(58996);s(76301);let l=()=>(0,t.jsx)(a.default,{})},58996:(e,r,s)=>{"use strict";s.d(r,{default:()=>t});let t=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\dev\\\\tecom_admin_front\\\\src\\\\components\\\\roles.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Usuario\\Desktop\\dev\\tecom_admin_front\\src\\components\\roles.jsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[112,175,900,264,473],()=>s(29447));module.exports=t})();